package phoneUtils

import (
	"github.com/stretchr/testify/assert"
	"testing"
)

//Test the positive phone number cases
func TestIsEasyDialSingleNumber(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := "1"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, true, isEasyNumber)

	phoneNumber = "-1"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, true, isEasyNumber)
}

func TestIsEasyDialRepeat(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := "11111111111111111"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, true, isEasyNumber)
}

func TestIsEasyDialDiagonalPattern(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := "1590753"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, true, isEasyNumber)
}

func TestIsEasyDialCornerPattern(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := "123690741"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, true, isEasyNumber)
}

func TestIsEasyDialTrue(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := "254-7096"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, true, isEasyNumber)

	phoneNumber = "554-7521"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, true, isEasyNumber)

	phoneNumber = "12365478900"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, true, isEasyNumber)
}

//Negative phone number cases
func TestIsEasyDialFalse(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := "280-6547"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, false, isEasyNumber)

	phoneNumber = "355-8123"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, false, isEasyNumber)

	phoneNumber = "1234567890"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, false, isEasyNumber)
}

func TestIsEasyDialEmptyNumber(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := ""
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, false, isEasyNumber)
}

func TestIsEasyDialInvalid(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := "-[]/qwqdnfjdf!"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, false, isEasyNumber)

	phoneNumber = "abcDEF"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, false, isEasyNumber)

	phoneNumber = "ox19"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, false, isEasyNumber)
}

func TestIsEasyDialCornerPatternInvalid(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := "139071"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, false, isEasyNumber)
}

func TestIsEasyDialInvalidRegex(t *testing.T) {
	var isEasyNumber bool
	NumericalRegex = "[^0-9"

	phoneNumber := "1"
	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, false, isEasyNumber)
	//Reset regex patter for compile
	NumericalRegex = "[^0-9]+"
}

//Test with 5000 character number string
func TestIsEasyDialTrueStress(t *testing.T) {
	var isEasyNumber bool

	phoneNumber := "254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-12365478900851-254-7096-554-7521-"

	isEasyNumber = IsEasyDial(phoneNumber)
	assert.Equal(t, true, isEasyNumber)
}
